<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="492px" preserveAspectRatio="none" style="width:1099px;height:492px;background:#FFFFFF;" version="1.1" viewBox="0 0 1099 492" width="1099px" zoomAndPan="magnify"><defs><filter height="300%" id="fj7ubc9w9wlbr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[dfef79abc52578acbe23b4fd575ab168]
cluster 3rdparty--><path d="M701.6587,213.3173 C707.5971,202.3228 719.2158,199.2662 726.4332,211.981 C732.476,198.6229 740.4464,197.443 750.2782,208.2407 C759.1573,196.8914 772.5767,196.6047 778.8718,211.0996 C785.2287,198.6427 797.1713,194.6859 806.6902,207.6378 C812.8027,195.7721 823.1104,196.5201 829.8602,206.9763 C837.2499,192.6606 845.0617,192.3688 855.075,204.4722 C866.0341,192.5823 876.4519,190.011 884.9094,207.0519 C893.4238,196.1696 900.0472,198.1537 907.2406,208.4452 C915.6568,196.6926 925.338,198.8241 932.91,209.4151 C940.4762,196.0985 953.4091,194.2801 961.0801,209.3109 C967.3369,196.1955 978.7035,193.5516 987.2326,207.0805 C997.2013,192.1336 1005.8643,194.6231 1015.0001,207.9 C1023.5274,195.2492 1034.3157,197.1943 1041.8368,209.0039 C1052.9768,198.5787 1065.1723,201.0149 1070,216 C1072.8233,215.5202 1074.8051,217.6502 1073.8257,220.444 C1092.2149,228.0311 1092.0541,242.4712 1077.9898,254.0764 C1090.3391,272.5924 1085.6094,289.9835 1063,296 C1064.4693,294.3388 1065.6761,294.6513 1066.5377,296.5962 C1060.9186,312.7197 1049.4143,314.7132 1038.3309,301.9278 C1030.4796,313.261 1021.5324,313.4962 1013.4904,302.1365 C1006.095,312.721 996.491,313.8846 988.2777,303.1017 C980.662,318.7631 967.6701,315.6663 959.8626,303.2962 C952.8456,315.4473 944.0517,315.5664 936.8633,303.4587 C928.4231,316.0541 920.1248,318.7559 909.2644,306.1044 C902.9054,317.6207 890.5664,316.9907 884.3224,305.977 C875.5204,319.7755 865.9152,322.6937 855.6015,307.4732 C844.9755,318.8237 836.8544,316.7703 830.6878,303.043 C823.5826,314.9095 816.3511,315.2714 806.8655,305.6864 C796.0203,317.3258 786.5781,318.526 778.2265,303.0525 C768.5709,313.999 757.9857,312.7955 751.6305,299.4406 C744.6657,309.4197 734.2285,309.9199 727.2499,299.4569 C713.662,311.8499 695.6417,307.6197 691,289 C693.4676,288.3858 695.5099,289.3612 694.7295,292.3562 C672.466,287.1936 667.8471,274.8563 683.3104,257.3774 C666.5337,234.5748 671.0028,218.5108 698,209 C700.7143,208.5805 702.5197,210.7069 701.6587,213.3173 " fill="#FFFFFF" filter="url(#fj7ubc9w9wlbr)" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="76" x="842.5" y="226.9951">3rd party</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="118" x="821.5" y="243.292">cluster add-on</text><!--MD5=[30afa6242ed7a9da9c35c8eba5ba651d]
cluster Kubernetes--><rect fill="#FFFFFF" filter="url(#fj7ubc9w9wlbr)" height="473" style="stroke:#000000;stroke-width:1.5;" width="652" x="7" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="91" x="287.5" y="21.9951">Kubernetes</text><!--MD5=[6a449d165e7288571682c9f52c1007ed]
cluster apiserver--><rect fill="#FFFFFF" filter="url(#fj7ubc9w9wlbr)" height="87" style="stroke:#000000;stroke-width:1.5;" width="311" x="108" y="217"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="75" x="226" y="231.9951">apiserver</text><!--MD5=[1346839f4d9afb2d0f5d9392cd5481da]
cluster scheduler--><rect fill="#FFFFFF" filter="url(#fj7ubc9w9wlbr)" height="103" style="stroke:#000000;stroke-width:1.5;" width="197" x="197" y="345"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="78" x="256.5" y="359.9951">scheduler</text><!--MD5=[d5328c4966d1ca6e16a506ef7f462ad0]
cluster controllermanager--><rect fill="#FFFFFF" filter="url(#fj7ubc9w9wlbr)" height="87" style="stroke:#000000;stroke-width:1.5;" width="232" x="31" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="157" x="68.5" y="64.9951">controller-manager</text><!--MD5=[9687c407887516dc192ba9dafcc7e07b]
cluster kubelet--><rect fill="#FFFFFF" filter="url(#fj7ubc9w9wlbr)" height="87" style="stroke:#000000;stroke-width:1.5;" width="348" x="287" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="60" x="431" y="64.9951">kubelet</text><!--MD5=[1d1022e7f40d29fca5826d38bb5d69bf]
entity vendorcontroller--><rect fill="#FEFECE" filter="url(#fj7ubc9w9wlbr)" height="36.2969" style="stroke:#000000;stroke-width:1.5;" width="157" x="699.5" y="252"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="709.5" y="274.9951">resource controller</text><!--MD5=[dd21688696bbed6fb1274309176b0faf]
entity vendornodeplugin--><rect fill="#FEFECE" filter="url(#fj7ubc9w9wlbr)" height="36.2969" style="stroke:#000000;stroke-width:1.5;" width="170" x="892" y="252"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="902" y="274.9951">resource node plugin</text><!--MD5=[825324b7f558f659a104b3dc0e220d0f]
entity Pod--><polygon fill="#FEFECE" filter="url(#fj7ubc9w9wlbr)" points="124.5,252,124.5,288.2969,171.5,288.2969,171.5,262,161.5,252,124.5,252" style="stroke:#000000;stroke-width:1.5;"/><path d="M161.5,252 L161.5,262 L171.5,262 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="134.5" y="274.9951">Pod</text><!--MD5=[c6d13f07182e2351a4c41a35e49756d3]
entity otherapi--><polygon fill="#FEFECE" filter="url(#fj7ubc9w9wlbr)" points="206.5,252,206.5,288.2969,241.5,288.2969,241.5,262,231.5,252,206.5,252" style="stroke:#000000;stroke-width:1.5;"/><path d="M231.5,252 L231.5,262 L241.5,262 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="15" x="216.5" y="274.9951">...</text><!--MD5=[0caca760b2b8a6b5b7be12a2a89afc05]
entity ResourceClaim--><polygon fill="#FEFECE" filter="url(#fj7ubc9w9wlbr)" points="277,252,277,288.2969,403,288.2969,403,262,393,252,277,252" style="stroke:#000000;stroke-width:1.5;"/><path d="M393,252 L393,262 L403,262 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="287" y="274.9951">ResourceClaim</text><!--MD5=[78a175b168b74c0adec3953d7ef16f8f]
entity k8sresourceplugin--><rect fill="#FEFECE" filter="url(#fj7ubc9w9wlbr)" height="36.2969" style="stroke:#000000;stroke-width:1.5;" width="130" x="240" y="388"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="250" y="410.9951">resource plugin</text><!--MD5=[90eef232d02e2b2acff627f901dbda00]
entity k8sresourceclaimcontroller--><rect fill="#FEFECE" filter="url(#fj7ubc9w9wlbr)" height="36.2969" style="stroke:#000000;stroke-width:1.5;" width="199" x="47.5" y="85"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="57.5" y="107.9951">resource claim controller</text><!--MD5=[04400e9409c1a81fafb175350e297fa6]
entity pluginmanager--><rect fill="#FEFECE" filter="url(#fj7ubc9w9wlbr)" height="36.2969" style="stroke:#000000;stroke-width:1.5;" width="131" x="303.5" y="85"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="313.5" y="107.9951">plugin manager</text><!--MD5=[c091db1669938f46da442302e548e7be]
entity resourcemanager--><rect fill="#FEFECE" filter="url(#fj7ubc9w9wlbr)" height="36.2969" style="stroke:#000000;stroke-width:1.5;" width="149" x="469.5" y="85"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="479.5" y="107.9951">resource manager</text><!--MD5=[3f0837bc815ece98ef2bb5fbce714c9f]
link vendorcontroller to vendornodeplugin--><!--MD5=[e5d4e5ba63c52082584a04285cbb68d4]
link Pod to otherapi--><!--MD5=[9b05b381b794c5da97d12dcb51ed74cb]
link otherapi to ResourceClaim--><!--MD5=[982a0d768f1a4e021d09551cb2018a3f]
reverse link k8sresourceclaimcontroller to Pod--><path d="M145.349,126.26 C144.803,134.638 144.268,144.252 144,153 C142.928,188.046 145.161,229.041 146.702,251.707 " fill="none" id="k8sresourceclaimcontroller-backto-Pod" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="145.687,121.223,141.0917,129.9341,145.3513,126.2117,149.0737,130.4713,145.687,121.223" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="145" y="166.0669">read resource template</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="174" y="181.1997">from Pod spec</text><!--MD5=[8d47d0e0d9256e4c2e63c05c87794cb5]
link k8sresourceclaimcontroller to ResourceClaim--><path d="M209.744,121.065 C249.246,132.304 294.05,146.162 301,153 C326.593,178.179 335.392,220.66 338.416,246.63 " fill="none" id="k8sresourceclaimcontroller-to-ResourceClaim" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="338.978,251.909,342.0014,242.5357,338.448,246.9372,334.0465,243.3837,338.978,251.909" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="323" y="173.5669">create</text><!--MD5=[a46ccd37cc6ea5160289e7ab91f06659]
link Pod to scheduler--><path d="M157.386,293.065 C165.345,311.7755 176.993,339.1589 186.7759,362.1575 C189.2216,367.9071 191.5507,373.3827 193.6765,378.3803 C194.7394,380.879 195.7515,383.2583 196.7019,385.4925 C196.7613,385.6321 196.8204,385.7712 196.8793,385.9097 " fill="none" id="Pod-scheduler" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="196.8793,385.9097,197.0373,376.0621,194.9222,381.3087,189.6756,379.1936,196.8793,385.9097" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="155.335,288.244,155.1767,298.0916,157.292,292.8451,162.5385,294.9604,155.335,288.244" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0039883b545247e65479470c5d4831d3]
link ResourceClaim to k8sresourceplugin--><path d="M334.17,293.32 C327.687,318.14 317.278,357.992 310.805,382.774 " fill="none" id="ResourceClaim-k8sresourceplugin" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="309.487,387.822,315.6323,380.1256,310.751,382.9844,307.8922,378.1031,309.487,387.822" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="335.496,288.244,329.3507,295.9404,334.232,293.0816,337.0908,297.9629,335.496,288.244" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[fa1108eaf13ac1d69ce7162fdfba6bf5]
link ResourceClaim to vendorcontroller--><path d="M408.508,270 C503.744,270 598.98,270 694.217,270 " fill="none" id="ResourceClaim-vendorcontroller" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="699.329,270,690.329,266,694.329,270,690.329,274,699.329,270" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="403.305,270,412.305,274,408.305,270,412.305,266,403.305,270" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8b43d783065e745b3c78ced736782ecd]
link pluginmanager to vendornodeplugin--><path d="M402.089,123.518 C416.891,131.404 434.843,139.843 452,145 C588.418,186.002 628.278,170.644 770,185 C793.061,187.336 852.276,184.916 874,193 C906.218,204.988 937.107,230.238 956.511,248.345 " fill="none" id="pluginmanager-vendornodeplugin" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="960.235,251.865,956.4446,242.7748,956.6023,248.4294,950.9476,248.5871,960.235,251.865" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="397.601,121.093,403.6199,128.8887,402.0006,123.4685,407.4208,121.8492,397.601,121.093" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d3fe6cacefaea3b19b9bbf67da9ae812]
link resourcemanager to vendornodeplugin--><path d="M623.858,116.903 C692.58,129.996 793.137,153.983 874,193 C904.21,207.577 934.602,231.384 954.46,248.47 " fill="none" id="resourcemanager-vendornodeplugin" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="958.287,251.793,954.114,242.8719,954.5117,248.5148,948.8688,248.9124,958.287,251.793" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="618.553,115.902,626.6551,121.5016,623.4663,116.8292,628.1387,113.6404,618.553,115.902" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c2e5448e387249491e47aa4b83400976]
@startuml
skinparam componentStyle rectangle

cloud "3rd party\ncluster add-on" as 3rdparty {
  component "resource controller" as vendorcontroller
  component "resource node plugin" as vendornodeplugin
}

component Kubernetes {
  component apiserver {
      file Pod
      file "..." as otherapi
      file ResourceClaim
  }
  component scheduler {
    component "resource plugin" as k8sresourceplugin
  }
  component "controller-manager" as controllermanager {
    component "resource claim controller" as k8sresourceclaimcontroller
  }
  component kubelet {
    component "plugin manager" as pluginmanager
    component "resource manager" as resourcemanager
  }
}

vendorcontroller -[hidden]> vendornodeplugin
Pod -[hidden]> otherapi
otherapi -[hidden]> ResourceClaim

Pod -u-> k8sresourceclaimcontroller: read resource template\nfrom Pod spec
ResourceClaim <-u- k8sresourceclaimcontroller: create

Pod <- -> scheduler
ResourceClaim <- -> k8sresourceplugin

ResourceClaim <-> vendorcontroller
pluginmanager <-> vendornodeplugin
resourcemanager <-> vendornodeplugin
@enduml

PlantUML version 1.2021.10beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>